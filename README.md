### **Цель исследования:** 
проанализировать поведение покупателей, их покупки, определить лояльность пользователей с помощью RFM-сегментации, проведение когортного анализа для расчёте Retention Rate.

### **Используемые библиотеки:** 
pandas, numpy, scipy, seaborn, matplotlib, pandahouse

Выполнено в **Jupyter Notebook**.

### **База данных включает в себя:**
+ _groups.csv_ — файл с информацией о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа)
+ _group_add.csv_ — дополнительный файл с пользователями, который вам прислали спустя 2 дня после передачи данных
+ _active_studs.csv_ — файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимента
+ _checks.csv_ — файл с информацией об оплатах пользователей в дни проведения эксперимента
  <hr>
+ _default.peas_ — таблица с информацией об id студента, времени решения вопроса, правильность решения, дисциплина вопроса
+ _default.studs_ — таблица с информацией об id студента и принадлежности его контрольной или тестовой группе
+ _default.final_project_check_ — таблица с информацией об id студента, времени покупки курса, цене курса, дисциплине курса

### **Ход работы:**
1.  + проведение EDA (предварительный анализ) и предобратки данных: наличие дубликатов, пропущенных значений;
    + объединение необходимых таблиц;
    + расчёт метрик по группам: конверсия в покупку, ARPAU, ARPPU;
    + анализ выборок на нормальность распределений, гомогенность дисперсий;
    + A/B-тест (Bootstrap и Хи-квадрат Пирсона).
2.  + соединение с базой данных в Tabix;
    + написание запросов (использованы WITH, JOIN, оконные функции).
3.  + реализация функции для автоматического пересчёта метрик при добавлении новых записей;
    + реализация функции для построения графиков метрик.

### **Выводы:**
В основном какие-то размышления можно сделать только по поводу первой задачи, так как две другие в основном отражают лишь знание SQL и Python.

В ходе A/B-тестирования новой механики оплаты обнаружено, что она повлияла только на ARPPU. Однако, однозначного ответа на вопрос "стоит ли запускать новую механику" нет, так как судя по всему исходные данные были собраны некорректно. По какой-то причине количество наблюдений в тестовой группе в 4 раза превышет значение в контрольной группе, а также большое количесво пользователей в тестовой группе сделали покупку на ~1900 рублей. Природа данной покупки неизвестна, возможно, на чеки от этой суммы дают какие-то дополнительные бонусы, либо кэшбэк, и это осложняет тестирование, так как в контрольной группе такие показатели отсутствуют. Тогда непонятно, что конкретно мы тестируем: новую механику оплаты, введение какой-то дополнительной функционалисти при новой механике, либо же всё вместе.

Есть пользователи (149 штук), которые произвели оплату, но которые не заходили на платформу в день проведения эксперимента. Нужно проверить систему сплитования и при необходимости провести тест повторно.
